<ion-header>
  <ion-toolbar>
    <ion-title>교인주소록</ion-title> 
    <ion-buttons slot="end">
        <app-top-image [loggedUser]="loggedUser">
        </app-top-image> 
      <ion-button 
        *ngIf="loggedUser && loggedUser.role.toUpperCase() === 'ADMIN'"
        [routerLink]="['/','main','tabs','members','new']">
        <ion-label>등록</ion-label>&nbsp;
        <ion-icon name="add-circle"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
  <ion-grid class="ion-no-padding">
    <ion-row>
      <ion-col>
        <div class="myDiv">
          <ion-segment 
            (ionChange)="onFilterUpdate($event)" value="name" 
            [(ngModel)] = "setCategory"
            class="ion-no-padding" >
            <ion-segment-button class="ion-no-padding"  value="name">
              <ion-label class="segment">이름으로 정렬</ion-label>
            
              
              <!-- <p style="color: purple; font-size:12px">장년기도력</p> -->
             <!--  <ion-label class="ion-no-padding segment">장년기도력</ion-label> -->
            </ion-segment-button>
            <ion-segment-button class="ion-no-padding"  value="group">
              그룹별로 정렬
              <!-- <p style="color: purple; font-size:12px">어린이기도력</p> -->
              <!-- <ion-label class="ion-no-padding segment">어린이기도력</ion-label> -->
            </ion-segment-button>
          </ion-segment> 
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  <!-- <ion-grid 
    style="padding-top:0px !important"
    *ngIf="selectedMember">
    <ion-row >
      <ion-col size-sm="2"  offset-sm="3" >
        <div 
          style="margin:0px !important; border: 1px red solid;
          background-color:rgb(225, 245, 220);" >
          <div class="leftbox" >
            <ion-avatar *ngIf="selectedMember.imageUrl.length <= 0">
              <img class="img-thumb"
              src="../../../assets/images/no-avatar.png">
            </ion-avatar>
            <ion-avatar *ngIf="selectedMember.imageUrl.length > 0">
              <ion-img class="img-thumb"
              [src]="selectedMember.imageUrl"
              >
            </ion-img>                  
            </ion-avatar>
            <div>
              <p 
              class="balck size-16 weight-bold padding-2" 
              >
              {{ selectedMember.name }}</p>
            </div>

          </div>

          <div class="rightbox">

  
          <p class="white size-14 weight-regular; padding-2" 
            
            *ngIf="selectedMember.phone1.length > 0"> 
            C: {{ selectedMember.phone1 }}</p>
          <p 
            class="white size-14 weight-regular padding-2" 
            
            *ngIf="selectedMember.homePhone.length > 0"> 
            H: {{ selectedMember.homePhone }}</p>
          <p 
            class="white size-14 weight-regular padding-2" 
            *ngIf="selectedMember.businessPhone.length > 0"> 
            B: {{ selectedMember.businessPhone }}</p>
  
          <p
            class="white size-14 weight-regular  padding-2" 
            style="white-space: pre-wrap;"
            >{{ selectedMember.address }}</p>  
          </div>
        </div>
              
       </ion-col>
    </ion-row>
    <ion-row >
      <ion-col size-sm="2" class="ion-text-center" offset-sm="3">
        <div style="background-color: rgb(225, 245, 220);">
          <ion-label  class="ion-no-padding" >
            <ion-icon 
              color="primary"
              (click)="onCall()"
              name="call" 
              style="font-size:25px;padding-top:5px">
            </ion-icon>
            <p class="black weight-medium size-14">전화</p>
          </ion-label>
        </div>
        </ion-col>
        <ion-col size-sm="2" class="ion-text-center" >
          <div style="background-color: rgb(225, 245, 220);">
            <ion-label  class="ion-no-padding" >
              <ion-icon 
               (click)="onText()"
               color="primary"
                name="chatbox-ellipses" 
                style="font-size:25px;padding-top:5px">
              </ion-icon>
              <p class="black weight-medium size-14">문자</p>
            </ion-label>
          </div>

       </ion-col>
       <ion-col size-sm="2" class="ion-text-center"  >
         <div style="background-color: rgb(225, 245, 220);">
        <ion-label  class="ion-no-padding" >
          <ion-icon 
           (click)="onOpenMaps()"
            name="home"
            color="primary" 
            style="font-size:25px;padding-top:5px">
          </ion-icon>
          <p class="black weight-medium size-14">지도</p>
        </ion-label>
      </div>
     </ion-col>  
        
                 
    </ion-row>      
  </ion-grid>     -->    
</ion-header>
<ion-content>
  <ion-grid class="ion-no-padding">
<!--     <ion-row >
      <ion-col class="ion-no-padding" size-sm="6" offset-sm="3">
        <app-top-image 
          [loggedUser]="loggedUser"
          [isAuth]="isUserAuthenticated"></app-top-image>
      </ion-col>
    </ion-row>  -->   
    
    <ion-row>
      <ion-col size-sm="6"   offset-sm="3" class="ion-no-padding">
        <ion-list>
          <ion-item-sliding  *ngFor="let member of loadedMembers" #slidingItem>
            <ion-item  
              (click)="onMemberDetail(member)"
              class="ion-no-padding"
              >
                <div style="padding-left:15px">
                  <ion-avatar  *ngIf="member.imageUrl.length <= 0">
                    <img class="img-thumb"
                    src="../../../assets/images/no-avatar.png">
                  </ion-avatar>
                  <ion-avatar  *ngIf="member.imageUrl.length > 0">
                    <ion-img class="img-thumb"
                    [src]="member.imageUrl"
                    >
                  </ion-img>                  
                  </ion-avatar>
                </div>


               <div style="padding-left: 15px">
                <p class="font-black-14-bold"> {{ member.name }} </p>
                <p class="font-gray-12" >{{ member.phone1 }}</p>
                <p class="font-gray-12" >{{ member.ageStatus }}</p>
               </div>
               <ion-icon slot="end" color="primary" name="call" class="ion-padding">
               </ion-icon>
             </ion-item>
            <ion-item-options>
              <ion-item-option
                color="secondary" 
                (click)="onEdit(member.id, slidingItem)"
              >
                <ion-icon slot="icon-only" name="create"></ion-icon>
              </ion-item-option>
            </ion-item-options>
          </ion-item-sliding>
      
        </ion-list>        
      </ion-col>
    </ion-row> 
  </ion-grid>
  
</ion-content>
